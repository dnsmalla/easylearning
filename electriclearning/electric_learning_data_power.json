{
  "categoryId": "power",
  "topics": [
    {
      "id": "ac_vs_dc",
      "title": "AC vs DC Power",
      "symbol": "ðŸ”Œ",
      "level": "beginner",
      "definition": {
        "text": "Alternating Current (AC) periodically reverses direction, while Direct Current (DC) flows in one direction only. AC is used for power distribution because it can be easily transformed to different voltages. DC is used in batteries, electronics, and increasingly in renewable energy systems.",
        "keyTerms": ["alternating current", "direct current", "frequency", "RMS", "peak voltage", "waveform"]
      },
      "keyFormulas": [
        {
          "id": "vrms",
          "name": "RMS Voltage",
          "formula": "Vrms = Vpeak / âˆš2 â‰ˆ 0.707 Ã— Vpeak",
          "meaning": "RMS is the equivalent DC voltage that delivers the same power"
        },
        {
          "id": "frequency",
          "name": "AC Frequency",
          "formula": "f = 1/T (Hz)",
          "meaning": "Frequency is cycles per second; 60Hz in USA, 50Hz in Europe"
        },
        {
          "id": "ac_power",
          "name": "AC Power",
          "formula": "P = Vrms Ã— Irms Ã— cos(Ï†)",
          "meaning": "Real power includes power factor cos(Ï†)"
        }
      ],
      "codeExample": {
        "python": "import math\n\ndef ac_calculations(Vpeak, f=60):\n    Vrms = Vpeak / math.sqrt(2)\n    period = 1 / f\n    omega = 2 * math.pi * f\n    return {\n        'Vpeak': Vpeak,\n        'Vrms': Vrms,\n        'frequency': f,\n        'period': period,\n        'angular_freq': omega\n    }\n\n# US wall outlet (120V RMS)\nresult = ac_calculations(169.7)\nprint(f'Vpeak = {result[\"Vpeak\"]:.1f} V')\nprint(f'Vrms = {result[\"Vrms\"]:.1f} V')",
        "javascript": "function acCalculations(Vpeak, f = 60) {\n  return {\n    Vpeak,\n    Vrms: Vpeak / Math.sqrt(2),\n    frequency: f,\n    period: 1 / f,\n    omega: 2 * Math.PI * f\n  };\n}\n\nconst result = acCalculations(169.7);\nconsole.log(`Vrms = ${result.Vrms.toFixed(1)} V`);",
        "arduino": "// Measure AC voltage with Arduino\n// Using voltage divider and rectifier\nconst int acPin = A0;\nconst float calibration = 0.3;  // Adjust for your circuit\n\nvoid setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  float sum = 0;\n  for (int i = 0; i < 100; i++) {\n    float reading = analogRead(acPin) * (5.0 / 1023.0);\n    sum += reading * reading;\n    delay(1);\n  }\n  float Vrms = sqrt(sum / 100) / calibration;\n  Serial.print(\"Vrms: \");\n  Serial.println(Vrms);\n}"
      },
      "examples": [
        {
          "id": "peak_voltage",
          "question": "What is the peak voltage of a 240V RMS AC supply?",
          "difficulty": "easy",
          "steps": [
            {
              "step": 1,
              "action": "Rearrange RMS formula",
              "result": "Vpeak = Vrms Ã— âˆš2",
              "explanation": "Peak is RMS multiplied by square root of 2"
            },
            {
              "step": 2,
              "action": "Calculate",
              "result": "Vpeak = 240V Ã— 1.414 = 339.4V",
              "explanation": "Peak voltage is about 41% higher than RMS"
            }
          ],
          "finalAnswer": "Vpeak â‰ˆ 339V"
        }
      ],
      "realWorldApplications": [
        {
          "id": "grid",
          "title": "Power Grid",
          "description": "AC enables efficient long-distance power transmission using transformers"
        },
        {
          "id": "chargers",
          "title": "Device Chargers",
          "description": "AC-DC converters power phones, laptops, and other electronics"
        }
      ],
      "tips": [
        "Always use RMS values when calculating AC power, not peak",
        "The frequency determines motor speed and transformer design",
        "DC is safer at the same voltage due to no alternating current through the body"
      ]
    },
    {
      "id": "transformers",
      "title": "Transformers",
      "symbol": "ðŸ”„",
      "level": "intermediate",
      "definition": {
        "text": "A transformer transfers electrical energy between circuits through electromagnetic induction, without a direct electrical connection. It consists of primary and secondary coils wound around a magnetic core. Transformers can step voltage up or down while inversely affecting current, keeping power constant (minus losses).",
        "keyTerms": ["primary", "secondary", "turns ratio", "step-up", "step-down", "core", "mutual inductance"]
      },
      "keyFormulas": [
        {
          "id": "turns_ratio",
          "name": "Turns Ratio",
          "formula": "Vs/Vp = Ns/Np = a",
          "meaning": "Voltage ratio equals turns ratio"
        },
        {
          "id": "current_ratio",
          "name": "Current Ratio",
          "formula": "Is/Ip = Np/Ns = 1/a",
          "meaning": "Current is inversely proportional to voltage"
        },
        {
          "id": "power",
          "name": "Ideal Power Transfer",
          "formula": "Pp = Ps (ideal) â†’ VpÃ—Ip = VsÃ—Is",
          "meaning": "Input power equals output power in ideal transformer"
        }
      ],
      "codeExample": {
        "python": "def transformer_calc(Vp, Np, Ns, Ip=None):\n    turns_ratio = Ns / Np\n    Vs = Vp * turns_ratio\n    \n    result = {\n        'turns_ratio': turns_ratio,\n        'Vp': Vp,\n        'Vs': Vs,\n        'type': 'step-up' if turns_ratio > 1 else 'step-down'\n    }\n    \n    if Ip:\n        Is = Ip / turns_ratio\n        result['Ip'] = Ip\n        result['Is'] = Is\n        result['power'] = Vp * Ip\n    \n    return result\n\n# Step-down transformer for phone charger\nresult = transformer_calc(120, 100, 10, Ip=0.1)\nprint(f'Output: {result[\"Vs\"]:.1f}V @ {result[\"Is\"]:.2f}A')",
        "javascript": "function transformerCalc(Vp, Np, Ns, Ip = null) {\n  const turnsRatio = Ns / Np;\n  const Vs = Vp * turnsRatio;\n  \n  const result = {\n    turnsRatio,\n    Vp,\n    Vs,\n    type: turnsRatio > 1 ? 'step-up' : 'step-down'\n  };\n  \n  if (Ip) {\n    result.Ip = Ip;\n    result.Is = Ip / turnsRatio;\n    result.power = Vp * Ip;\n  }\n  \n  return result;\n}\n\nconst result = transformerCalc(120, 100, 10, 0.1);\nconsole.log(`Output: ${result.Vs}V @ ${result.Is}A`);",
        "arduino": "// Monitoring transformer with current sensors\nconst int primaryCurrentPin = A0;\nconst int secondaryCurrentPin = A1;\nconst float sensitivity = 0.185;  // ACS712 5A: 185mV/A\n\nvoid setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  float Vp = (analogRead(primaryCurrentPin) - 512) * (5.0/1023);\n  float Vs = (analogRead(secondaryCurrentPin) - 512) * (5.0/1023);\n  \n  float Ip = Vp / sensitivity;\n  float Is = Vs / sensitivity;\n  \n  Serial.print(\"Primary: \"); Serial.print(Ip); Serial.println(\" A\");\n  Serial.print(\"Secondary: \"); Serial.print(Is); Serial.println(\" A\");\n  delay(1000);\n}"
      },
      "examples": [
        {
          "id": "step_down",
          "question": "Design a step-down transformer to convert 240V to 12V with 500mA output",
          "difficulty": "medium",
          "steps": [
            {
              "step": 1,
              "action": "Calculate turns ratio",
              "result": "a = Vs/Vp = 12/240 = 1/20",
              "explanation": "Need 20:1 step-down ratio"
            },
            {
              "step": 2,
              "action": "Choose practical turns",
              "result": "Np = 1000, Ns = 50 (or 200:10)",
              "explanation": "Any ratio that simplifies to 20:1"
            },
            {
              "step": 3,
              "action": "Calculate input current",
              "result": "Ip = Is/a = 0.5A Ã— (12/240) = 25mA",
              "explanation": "Lower voltage means higher current"
            }
          ],
          "finalAnswer": "Use 20:1 turns ratio (e.g., 200:10), Ip = 25mA"
        }
      ],
      "realWorldApplications": [
        {
          "id": "transmission",
          "title": "Power Transmission",
          "description": "Step-up to 400kV+ for transmission, step-down for distribution"
        },
        {
          "id": "adapters",
          "title": "Wall Adapters",
          "description": "Convert mains voltage to low voltage for electronics"
        }
      ],
      "tips": [
        "Transformers only work with AC - DC transformers don't exist (use DC-DC converters instead)",
        "Efficiency is typically 95-99% for well-designed transformers",
        "Core material and winding resistance cause most losses"
      ]
    },
    {
      "id": "three_phase",
      "title": "Three-Phase Power",
      "symbol": "âš¡",
      "level": "advanced",
      "definition": {
        "text": "Three-phase power uses three AC voltages 120Â° out of phase to deliver power more efficiently than single-phase. It provides constant power (not pulsating), uses less conductor material for the same power, and is essential for running large motors. Industrial and commercial facilities typically use three-phase power.",
        "keyTerms": ["phase angle", "line voltage", "phase voltage", "delta", "wye (star)", "balanced load"]
      },
      "keyFormulas": [
        {
          "id": "line_phase_wye",
          "name": "Wye Connection Voltages",
          "formula": "VL = âˆš3 Ã— VÏ† â‰ˆ 1.732 Ã— VÏ†",
          "meaning": "Line voltage is âˆš3 times phase voltage in wye"
        },
        {
          "id": "three_phase_power",
          "name": "Three-Phase Power",
          "formula": "P = âˆš3 Ã— VL Ã— IL Ã— cos(Ï†)",
          "meaning": "Total power using line values"
        },
        {
          "id": "delta_current",
          "name": "Delta Connection Currents",
          "formula": "IL = âˆš3 Ã— IÏ†",
          "meaning": "Line current is âˆš3 times phase current in delta"
        }
      ],
      "codeExample": {
        "python": "import math\n\ndef three_phase_power(VL, IL, pf=1.0, connection='wye'):\n    \"\"\"\n    Calculate three-phase power\n    VL: Line voltage\n    IL: Line current  \n    pf: Power factor\n    \"\"\"\n    P = math.sqrt(3) * VL * IL * pf\n    \n    if connection == 'wye':\n        Vphase = VL / math.sqrt(3)\n        Iphase = IL\n    else:  # delta\n        Vphase = VL\n        Iphase = IL / math.sqrt(3)\n    \n    return {\n        'power_kW': P / 1000,\n        'VL': VL,\n        'Vphase': Vphase,\n        'IL': IL,\n        'Iphase': Iphase\n    }\n\n# 480V industrial motor\nresult = three_phase_power(480, 20, pf=0.85)\nprint(f'Power: {result[\"power_kW\"]:.1f} kW')",
        "javascript": "function threePhPower(VL, IL, pf = 1.0) {\n  const sqrt3 = Math.sqrt(3);\n  return {\n    power: sqrt3 * VL * IL * pf,\n    powerKW: (sqrt3 * VL * IL * pf) / 1000,\n    Vphase: VL / sqrt3\n  };\n}\n\nconst result = threePhPower(480, 20, 0.85);\nconsole.log(`Power: ${result.powerKW.toFixed(1)} kW`);",
        "arduino": "// Three-phase voltage monitoring\nconst int phase1Pin = A0;\nconst int phase2Pin = A1;\nconst int phase3Pin = A2;\nconst float voltageScale = 0.5;  // Adjust for sensor\n\nvoid setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  float v1 = analogRead(phase1Pin) * (5.0/1023) / voltageScale;\n  float v2 = analogRead(phase2Pin) * (5.0/1023) / voltageScale;\n  float v3 = analogRead(phase3Pin) * (5.0/1023) / voltageScale;\n  \n  Serial.print(\"L1: \"); Serial.print(v1);\n  Serial.print(\" L2: \"); Serial.print(v2);\n  Serial.print(\" L3: \"); Serial.println(v3);\n  delay(100);\n}"
      },
      "examples": [
        {
          "id": "motor_power",
          "question": "Calculate the power consumed by a 480V three-phase motor drawing 15A with power factor 0.9",
          "difficulty": "medium",
          "steps": [
            {
              "step": 1,
              "action": "Apply three-phase power formula",
              "result": "P = âˆš3 Ã— VL Ã— IL Ã— pf",
              "explanation": "Use line values for three-phase calculation"
            },
            {
              "step": 2,
              "action": "Substitute values",
              "result": "P = 1.732 Ã— 480V Ã— 15A Ã— 0.9",
              "explanation": "âˆš3 â‰ˆ 1.732"
            },
            {
              "step": 3,
              "action": "Calculate",
              "result": "P = 11,229W â‰ˆ 11.2 kW",
              "explanation": "Convert to kilowatts"
            }
          ],
          "finalAnswer": "P â‰ˆ 11.2 kW (or about 15 HP)"
        }
      ],
      "realWorldApplications": [
        {
          "id": "industrial",
          "title": "Industrial Motors",
          "description": "Large motors run smoother and more efficiently on three-phase"
        },
        {
          "id": "datacenter",
          "title": "Data Centers",
          "description": "Three-phase distribution reduces copper and improves reliability"
        }
      ],
      "tips": [
        "Line voltage is what you measure between any two phases",
        "Wye gives access to neutral; delta has no neutral",
        "Unbalanced loads can cause neutral current in wye systems"
      ]
    },
    {
      "id": "power_factor",
      "title": "Power Factor",
      "symbol": "Ï†",
      "level": "intermediate",
      "definition": {
        "text": "Power factor is the ratio of real power (watts) to apparent power (VA), indicating how effectively current is being converted to useful work. A power factor of 1 (unity) means current and voltage are in phase - all power is real. Inductive loads like motors have lagging power factor; capacitive loads have leading power factor.",
        "keyTerms": ["real power", "reactive power", "apparent power", "leading", "lagging", "power triangle"]
      },
      "keyFormulas": [
        {
          "id": "power_factor",
          "name": "Power Factor",
          "formula": "PF = P/S = cos(Ï†)",
          "meaning": "Ratio of real to apparent power, equals cosine of phase angle"
        },
        {
          "id": "apparent_power",
          "name": "Apparent Power",
          "formula": "S = V Ã— I (VA)",
          "meaning": "Total power the source must supply"
        },
        {
          "id": "reactive_power",
          "name": "Reactive Power",
          "formula": "Q = V Ã— I Ã— sin(Ï†) (VAR)",
          "meaning": "Power that oscillates between source and load"
        },
        {
          "id": "power_triangle",
          "name": "Power Triangle",
          "formula": "SÂ² = PÂ² + QÂ²",
          "meaning": "Pythagorean relationship between power components"
        }
      ],
      "codeExample": {
        "python": "import math\n\ndef power_analysis(V, I, pf):\n    \"\"\"Calculate power triangle\"\"\"\n    phi = math.acos(pf)\n    \n    S = V * I  # Apparent power (VA)\n    P = S * pf  # Real power (W)\n    Q = S * math.sin(phi)  # Reactive power (VAR)\n    \n    return {\n        'apparent_power_VA': S,\n        'real_power_W': P,\n        'reactive_power_VAR': Q,\n        'phase_angle_deg': math.degrees(phi)\n    }\n\ndef capacitor_for_pf_correction(P, pf_old, pf_new, V, f=60):\n    \"\"\"Size capacitor to improve power factor\"\"\"\n    Q_old = P * math.tan(math.acos(pf_old))\n    Q_new = P * math.tan(math.acos(pf_new))\n    Q_cap = Q_old - Q_new\n    C = Q_cap / (2 * math.pi * f * V**2)\n    return C\n\n# Example: Motor analysis\nresult = power_analysis(480, 20, 0.8)\nprint(f'Real Power: {result[\"real_power_W\"]/1000:.1f} kW')\nprint(f'Reactive Power: {result[\"reactive_power_VAR\"]/1000:.1f} kVAR')",
        "javascript": "function powerAnalysis(V, I, pf) {\n  const phi = Math.acos(pf);\n  const S = V * I;\n  const P = S * pf;\n  const Q = S * Math.sin(phi);\n  \n  return {\n    apparentPower: S,\n    realPower: P,\n    reactivePower: Q,\n    phaseAngle: phi * 180 / Math.PI\n  };\n}\n\nconst result = powerAnalysis(480, 20, 0.8);\nconsole.log(`Real Power: ${(result.realPower/1000).toFixed(1)} kW`);",
        "arduino": "// Power factor measurement (simplified)\nconst int voltagePin = A0;\nconst int currentPin = A1;\n\nvoid setup() {\n  Serial.begin(9600);\n}\n\nvoid loop() {\n  // Sample voltage and current\n  float sumVI = 0, sumV2 = 0, sumI2 = 0;\n  \n  for (int i = 0; i < 1000; i++) {\n    float v = analogRead(voltagePin) - 512;\n    float i = analogRead(currentPin) - 512;\n    sumVI += v * i;\n    sumV2 += v * v;\n    sumI2 += i * i;\n    delayMicroseconds(100);\n  }\n  \n  float pf = sumVI / sqrt(sumV2 * sumI2);\n  Serial.print(\"Power Factor: \");\n  Serial.println(abs(pf), 2);\n  delay(1000);\n}"
      },
      "examples": [
        {
          "id": "pf_correction",
          "question": "A 50kW load at 0.7 power factor needs correction to 0.95. Calculate the reactive power needed from capacitors.",
          "difficulty": "hard",
          "steps": [
            {
              "step": 1,
              "action": "Calculate current reactive power",
              "result": "Qâ‚ = P Ã— tan(cosâ»Â¹(0.7)) = 50 Ã— 1.02 = 51 kVAR",
              "explanation": "Use power triangle relationship"
            },
            {
              "step": 2,
              "action": "Calculate target reactive power",
              "result": "Qâ‚‚ = P Ã— tan(cosâ»Â¹(0.95)) = 50 Ã— 0.329 = 16.4 kVAR",
              "explanation": "Less reactive power at better PF"
            },
            {
              "step": 3,
              "action": "Find required capacitor reactive power",
              "result": "Qc = Qâ‚ - Qâ‚‚ = 51 - 16.4 = 34.6 kVAR",
              "explanation": "Capacitors supply leading VARs to cancel lagging"
            }
          ],
          "finalAnswer": "Install 34.6 kVAR of capacitor banks"
        }
      ],
      "realWorldApplications": [
        {
          "id": "utility",
          "title": "Utility Billing",
          "description": "Industrial customers pay penalties for low power factor"
        },
        {
          "id": "capacity",
          "title": "System Capacity",
          "description": "Better PF allows more real power from existing infrastructure"
        }
      ],
      "tips": [
        "Motors are the biggest source of poor power factor",
        "Power factor correction capacitors are sized in kVAR",
        "Over-correction (leading PF) can be worse than under-correction"
      ]
    }
  ]
}

